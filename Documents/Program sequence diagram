@startuml

== Initialization ==

Control_Logic_module -> RF_module: Call initialize function
RF_module            -> RF_sensor: Send initialize configuration to sensor
RF_sensor			 -> RF_module: Send OK
RF_module 			 -> Control_Logic_module: OK

rnote over Control_Logic_module
  Color of led depends from initialize status
  (OK <color green>green</color>,Error <color red>red</color>)

  Create thread for card presense check
endrnote
== Working ==

... Waiting for card ...

RF_sensor --> RF_module: Card was found
RF_module ->  RF_sensor: Request of read data
RF_sensor ->  RF_module: Answer for request

RF_module ->  Control_Logic_module: Call callback with card data as parameter


Control_Logic_module -> Control_Logic_module: Save value from callback

rnote over Control_Logic_module
       <color red>LOGIC AT CONTROL STREAM</color>

  Check value from callback on zero.
  if value != 0 then check read key in storage.
  If key exist lock should be unlock
  read value should be cleared
endrnote

@enduml
